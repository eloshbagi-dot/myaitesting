<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù…Ø®ØªØ¨Ø± Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø±Ø³Ù…ÙŠØ©</title>
    <style>
        body { font-family: sans-serif; background: #121212; color: white; text-align: center; padding: 20px; }
        .container { background: #1e1e1e; padding: 25px; border-radius: 15px; max-width: 450px; margin: auto; border: 1px solid #333; }
        input, button { width: 90%; padding: 12px; margin: 10px 0; border-radius: 8px; }
        input { background: #252525; color: #0f0; border: 1px solid #444; }
        button { background: #27ae60; color: white; border: none; font-weight: bold; cursor: pointer; }
        #status { font-size: 12px; color: #888; margin-bottom: 10px; }
        #result { margin-top: 20px; color: #00ff7f; background: #000; padding: 15px; border-radius: 8px; min-height: 40px; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ¤– Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ø±Ø³Ù…ÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø±</h2>
    <div id="status">Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ù…Ù„</div>
    <input type="password" id="token" placeholder="Ø¶Ø¹ Ù…ÙØªØ§Ø­ hf_ Ù‡Ù†Ø§">
    <input type="text" id="prompt" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ...">
    <button onclick="startInference()">ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„</button>
    <div id="result">Ø§Ù„Ù†ØªÙŠØ¬Ø© ØªØ¸Ù‡Ø± Ù‡Ù†Ø§...</div>
</div>

<script type="module">
    import { HfInference } from 'https://cdn.jsdelivr.net/npm/@huggingface/inference@2.6.4/+esm';

    window.startInference = async function() {
        const token = document.getElementById('token').value.trim();
        const prompt = document.getElementById('prompt').value;
        const resDiv = document.getElementById('result');
        const status = document.getElementById('status');

        if (!token) return alert("Ø§Ù„Ù…ÙØªØ§Ø­ Ù…Ø·Ù„ÙˆØ¨!");

        status.innerText = "â³ Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø­Ø±Ùƒ Ø§Ù„Ø±Ø³Ù…ÙŠ...";
        resDiv.innerText = "...";

        try {
            const hf = new HfInference(token);

            // Ø§Ù„Ù…ÙƒØªØ¨Ø© Ù‡Ù†Ø§ ØªØ®ØªØ§Ø± Ø£ÙØ¶Ù„ Ø±Ø§Ø¨Ø· (Router Ø£Ùˆ Inference) ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
            const response = await hf.textGeneration({
                model: 'facebook/blenderbot-400M-distill',
                inputs: prompt,
                parameters: { max_new_tokens: 100 }
            });

            resDiv.innerText = "âœ… Ø§Ù„Ø±Ø¯: " + response.generated_text;
            status.innerText = "Ù†Ø¬Ø­ Ø§Ù„Ø§ØªØµØ§Ù„";
        } catch (err) {
            console.error(err);
            // Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±ØŒ Ø³Ù†Ø­Ø§ÙˆÙ„ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙˆÙƒØ³ÙŠ ÙƒØ­Ù„ Ø£Ø®ÙŠØ± Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ÙƒØªØ¨Ø©
            resDiv.innerText = "âŒ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø±Ùƒ Ø§Ù„Ø±Ø³Ù…ÙŠ. Ø§Ù„Ø³Ø¨Ø¨: " + err.message;
            status.innerText = "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„";
        }
    }
</script>
</body>
</html>
