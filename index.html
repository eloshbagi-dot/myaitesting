<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø¥ØµÙ„Ø§Ø­ Ù†Ù‡Ø§Ø¦ÙŠ</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background: #eee; text-align: center; }
        #debug-log { background: #333; color: #0f0; padding: 10px; text-align: left; font-family: monospace; height: 100px; overflow: auto; margin-top: 10px; border-radius: 5px; font-size: 12px; }
        .card { background: white; padding: 20px; border-radius: 10px; max-width: 500px; margin: auto; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        input { width: 90%; padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 5px; }
        button { background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>

<div class="card">
    <h3>ğŸ› ï¸ ÙØ§Ø­Øµ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Hugging Face</h3>
    <input type="password" id="key" placeholder="hf_... Ø§Ù„ØµÙ‚ Ø§Ù„Ù…ÙØªØ§Ø­ Ù‡Ù†Ø§">
    <input type="text" id="msg" placeholder="Ø§ÙƒØªØ¨ Ø£ÙŠ ÙƒÙ„Ù…Ø© (Hello Ù…Ø«Ù„Ø§Ù‹)">
    <button onclick="testConnection()">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¢Ù†</button>
    
    <div id="result" style="margin-top: 20px; font-weight: bold;"></div>
    
    <div id="debug-log">Ø³ÙŠØªÙ… Ø·Ø¨Ø§Ø¹Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ù‡Ù†Ø§...</div>
</div>

<script>
    async function testConnection() {
        const key = document.getElementById('key').value.trim();
        const msg = document.getElementById('msg').value;
        const log = document.getElementById('debug-log');
        const res = document.getElementById('result');
        
        log.innerHTML = "Ø¨Ø¯Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„...";
        res.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©...";

        try {
            // Ø³Ù†Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¯ÙŠÙ„ ØµØºÙŠØ± Ø¬Ø¯Ø§Ù‹ Ù„Ù„ØªØ¬Ø±Ø¨Ø©
            const response = await fetch("https://api-inference.huggingface.co/models/facebook/blenderbot-400M-distill", {
                method: "POST",
                headers: { "Authorization": `Bearer ${key}`, "Content-Type": "application/json" },
                body: JSON.stringify({ inputs: msg })
            });

            const data = await response.json();
            log.innerHTML = "ÙƒÙˆØ¯ Ø§Ù„Ø­Ø§Ù„Ø©: " + response.status + "\n" + JSON.stringify(data);

            if (response.ok) {
                res.style.color = "green";
                res.innerText = "âœ… Ù†Ø¬Ø­ Ø§Ù„Ø§ØªØµØ§Ù„! Ø§Ù„Ø±Ø¯: " + (data[0]?.generated_text || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†Øµ");
            } else {
                res.style.color = "red";
                res.innerText = "âŒ ÙØ´Ù„: " + (data.error || "Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ");
            }
        } catch (err) {
            log.innerHTML = "Ø®Ø·Ø£ Ø¨Ø±Ù…Ø¬ÙŠ: " + err.message;
            res.style.color = "orange";
            res.innerText = "âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ© Ø£Ùˆ CORS";
        }
    }
</script>

</body>
</html>
