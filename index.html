<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat Mobile-Friendly</title>
    <style>
        body { font-family: sans-serif; background: #111; color: white; padding: 15px; text-align: center; }
        .chat-box { background: #222; border: 1px solid #333; padding: 15px; border-radius: 10px; margin-bottom: 10px; min-height: 100px; text-align: right; }
        input { width: 100%; padding: 12px; margin-bottom: 10px; border-radius: 5px; border: none; box-sizing: border-box; }
        button { width: 100%; padding: 12px; background: #27ae60; color: white; border: none; border-radius: 5px; font-weight: bold; }
        .status { font-size: 11px; color: #888; margin-top: 5px; }
    </style>
</head>
<body>

    <h3>ğŸ¤– Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ (ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„)</h3>
    
    <div class="chat-box" id="output">Ø§ÙƒØªØ¨ Ø´ÙŠØ¦Ø§Ù‹ ÙˆØ³Ø£Ø±Ø¯ Ø¹Ù„ÙŠÙƒ...</div>
    
    <input type="password" id="key" placeholder="Ø§Ù„ØµÙ‚ Ù…ÙØªØ§Ø­ hf_ Ù‡Ù†Ø§">
    <input type="text" id="msg" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ...">
    <button onclick="talk()">Ø¥Ø±Ø³Ø§Ù„</button>
    
    <div class="status" id="status">Ø¬Ø§Ù‡Ø²</div>

    <script>
    async function talk() {
        const key = document.getElementById('key').value.trim();
        const msg = document.getElementById('msg').value;
        const out = document.getElementById('output');
        const status = document.getElementById('status');

        if(!key || !msg) return alert("Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù†Ø§Ù‚ØµØ©!");

        status.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙˆÙƒØ³ÙŠ...";
        out.innerText = "â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙÙƒÙŠØ±...";

        // Ø³Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¨Ø±ÙˆÙƒØ³ÙŠ Ø§Ù„Ø°ÙŠ Ø£Ø«Ø¨Øª Ù†Ø¬Ø§Ø­Ù‡ Ù…Ø¹Ùƒ Ù…Ù†Ø° Ù‚Ù„ÙŠÙ„
        const proxy = "https://corsproxy.io/?";
        const target = "https://api-inference.huggingface.co/models/facebook/blenderbot-400M-distill";

        try {
            const response = await fetch(proxy + encodeURIComponent(target), {
                method: "POST",
                headers: { "Authorization": `Bearer ${key}`, "Content-Type": "application/json" },
                body: JSON.stringify({ inputs: msg })
            });

            const data = await response.json();

            if(response.ok) {
                // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ Ø³ÙˆØ§Ø¡ ÙƒØ§Ù† Ù…ØµÙÙˆÙØ© Ø£Ùˆ ÙƒØ§Ø¦Ù†
                const reply = Array.isArray(data) ? data[0].generated_text : data.generated_text;
                out.innerText = reply;
                status.innerText = "ØªÙ… Ø§Ù„Ø±Ø¯ Ø¨Ù†Ø¬Ø§Ø­";
            } else {
                out.innerText = "âŒ Ø®Ø·Ø£: " + (data.error || "Ø§Ù„Ù…ÙØªØ§Ø­ ØºÙŠØ± ØµØ§Ù„Ø­");
            }
        } catch (e) {
            out.innerText = "ğŸ“¡ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª.";
            status.innerText = "Error: " + e.message;
        }
    }
    </script>
</body>
</html>
